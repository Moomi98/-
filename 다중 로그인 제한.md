# ğŸ–¥ï¸ ë‹¤ì¤‘ ë¡œê·¸ì¸ ì œí•œ

## ğŸ”ˆ ê°œìš”

í´ë¼ì´ì–¸íŠ¸ì˜ ìš”ì²­ ì‚¬í•­ ì¤‘ ë™ì¼ ì•„ì´ë””ì— ëŒ€í•´ ë‹¤ë¥¸ í™˜ê²½ì—ì„œ ì ‘ì†ì„ ì œí•œí•˜ê±°ë‚˜ ì•„ì´ë””ì˜ ì‚¬ìš©ìê°€ ë‹¤ë¥¸ í™˜ê²½ì—ì„œ ì„œë¹„ìŠ¤ì— ì ‘ì† ì‹œ

ë³¸ì¸ì¸ì¦ì„ í†µí•´ í•´ë‹¹ ì‚¬ìš©ìê°€ ì‚¬ìš©ì¤‘ì¸ ì•„ì´ë””ê°€ ë§ëŠ”ì§€ì˜ ì—¬ë¶€ë¥¼ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•´ë‹¬ë¼ëŠ” ìš”ì²­ì´ ìˆì—ˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ ë‹¤ìŒì˜ ê³¼ì •ì„ í†µí•´ ë‹¤ì¤‘ ë¡œê·¸ì¸ ì œí•œ ë° ë³¸ì¸ì¸ì¦ í”„ë¡œì„¸ìŠ¤ë¥¼ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

## âœ ì‚¬ìš©ì êµ¬ë¶„ ë°©ë²• ì„ íƒ

ë¨¼ì € ê°ê°ì˜ ì‚¬ìš©ìì™€ í•´ë‹¹ ì‚¬ìš©ìì˜ ê³ ìœ í•œ ì ‘ì† í™˜ê²½ì„ ì–´ë–»ê²Œ êµ¬ë³„í• ì§€ì— ëŒ€í•´ íŒ€ì›ë“¤ê³¼ ë…¼ì˜ë¥¼ ì§„í–‰í–ˆìŠµë‹ˆë‹¤.

ê°€ì¥ ë¨¼ì € ë‚˜ì˜¨ ì•„ì´ë””ì–´ëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ì—ì„œ ì œê³µí•˜ëŠ” userAgentë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ userAgentëŠ” ì ‘ì†í•œ ë¸Œë¼ìš°ì € í™˜ê²½ë§Œ ì•Œ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê³ ìœ í•˜ê²Œ í™˜ê²½ì„ êµ¬ë³„í•  ìˆ˜ëŠ” ì—†ì—ˆìŠµë‹ˆë‹¤.

ê·¸ í›„ì— ë‚˜ì˜¨ ì•„ì´ë””ì–´ëŠ” **ë¸Œë¼ìš°ì € í•‘ê±°í”„ë¦°íŠ¸**ë¥¼ í™œìš©í•˜ëŠ” ê²ƒì´ì—ˆìŠµë‹ˆë‹¤.

![image](https://user-images.githubusercontent.com/76273383/158812339-964e49fe-d7bc-4461-9733-6f59c9aee0e2.png)


fingerprint.js ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ì„ ì§„í–‰í•  ë•Œ post ìš”ì²­ì† ë°ì´í„° ê°ì²´ì— í•‘ê±°í”„ë¦°íŠ¸ê°’ì„ ë„£ì–´ dbì— ì €ì¥ëœ 

í•‘ê±°í”„ë¦°íŠ¸ê°’ê³¼ ë‹¤ë¥´ë©´ ë‹¤ë¥¸ í™˜ê²½ì—ì„œ ì ‘ì†í•œ ê²ƒìœ¼ë¡œ íŒë‹¨í•˜ê³  ì¸ì¦ ì ˆì°¨ë¥¼ ê±°ì¹˜ëŠ” ê²ƒìœ¼ë¡œ ì§„í–‰í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤.

## ğŸ’¡ êµ¬í˜„ (ë¡œê·¸ì¸ ì‹œë„)

ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•˜ì—¬ ì‚¬ìš©ìê°€ ë¡œê·¸ì¸ ì‹œë„ ì‹œ í•´ë‹¹ ì‚¬ìš©ìì˜ ë¸Œë¼ìš°ì € í•‘ê±°í”„ë¦°íŠ¸ ê°’ì„ ë¶ˆëŸ¬ì˜¤ê²Œ ë©ë‹ˆë‹¤.

```javascript
const getFinger = async () => {
  const fpPromise = FingerprintJS.load()
  const fp = await fpPromise
  const userFp = await fp.get()
  return userFp.visitorId
}
```

ê·¸ í›„, ë¸Œë¼ìš°ì € í•‘ê±°í”„ë¦°íŠ¸ê°’ì„ í¬í•¨í•œ ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì„œë²„ì— ìš”ì²­í•œ ë’¤ ì„œë²„ë¡œë¶€í„° invalid finger ê°’ì„ ë°›ê²Œ ë˜ë©´

ì‚¬ìš©ìê°€ ë‹¤ë¥¸ í™˜ê²½ì— ì ‘ì†í–ˆë‹¤ê³  íŒë‹¨í•˜ì—¬ í”„ë¡œí•„ í˜ì´ì§€ì—ì„œ ê²½ê³  ëª¨ë‹¬ì„ ë„ìš°ê²Œ ë©ë‹ˆë‹¤.

ì´ ë•Œ, í”„ë¡œí•„ í˜ì´ì§€ë¡œ ì´ë™ ì‹œ gatsbyì˜ navigate í•¨ìˆ˜ ì† stateë¥¼ í™œìš©í•˜ì—¬ ì‚¬ìš©ìì˜ ë¡œê·¸ì¸ ì •ë³´ë¥¼ í•¨ê»˜ ë„˜ê²¨ì£¼ì–´ 

ì¶”í›„ ì‚¬ìš©ìì˜ ë³¸ì¸ì¸ì¦ ì™„ë£Œ ì‹œ ë„˜ê²¨ ë°›ì€ ì •ë³´ë¡œ ì¬ë¡œê·¸ì¸ì„ ì‹œë„í•˜ê²Œ í•©ë‹ˆë‹¤.

```javascript
else if (desc === "invalid finger") {
    navigate(`/member/profile/home`, {
      state: {
        isCurrentUser: desc,
        account_id,
        account_password,
        account_finger,
      },
    })
```

í”„ë¡œí•„ í™ˆ í™”ë©´ì—ì„œëŠ” ë Œë”ë§ ì‹œ propsì¤‘ stateë¼ëŠ” ê°’ì´ ìˆëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.

ë§Œì•½ ì¡´ì¬í•˜ê²Œ ë˜ë©´ invalid finger ê°’ì„ ë°›ì€ ì‚¬ìš©ìì´ë¯€ë¡œ useEffect ì—ì„œ í™•ì¸ ì ˆì°¨ë¥¼ ê±°ì³ ê²½ê³  ëª¨ë‹¬ì„ ë„ìš°ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤.

```javascript
  const state = props.location.state
  const isCurrentUser = state?.isCurrentUser

  useEffect(async () => {
    // ì¸ë°¸ë¦¬ë“œ í•‘ê±° ì—ëŸ¬ë°œìƒí•œê²½ìš°
    if (isCurrentUser && isCurrentUser !== true) {
      setIsLogin(false)
      setContextError(isCurrentUser)
      showWarning1()
    } else {
      //ì•„ë‹Œê²½ìš°

      setIsLogin(true)

      if (query?.option === "revise") manageProfile_()
    }
  }, [])
```


## ğŸ’¡ êµ¬í˜„ (ê²½ê³  ë° ë³¸ì¸ì¸ì¦)

invalid finger ê°’ì„ ë°›ì€ ì‚¬ìš©ìëŠ” í”„ë¡œí•„ í˜ì´ì§€ì—ì„œ ê²½ê³  ëª¨ë‹¬ì„ ë§ˆì£¼í•˜ê²Œ ë©ë‹ˆë‹¤.

![ê²½ê³ ëª¨ë‹¬](https://user-images.githubusercontent.com/76273383/158918263-5900d8f4-62f0-4fb8-b9e3-f6259c5556ce.JPG)

ê¸°ê¸°ë³€ê²½ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë³¸ì¸ì¸ì¦ ì°½ìœ¼ë¡œ ë„˜ì–´ì™€ íœ´ëŒ€í° ë³¸ì¸ì¸ì¦ì„ ì‹œë„í•˜ê²Œ ë©ë‹ˆë‹¤.

![ë³¸ì¸ì¸ì¦ ëª¨ë‹¬](https://user-images.githubusercontent.com/76273383/158918266-0880b39c-0afd-4931-af7a-6440ed1b82e6.JPG)

íœ´ëŒ€í° ì¸ì¦ì„ ì™„ë£Œí•œ ì‚¬ìš©ìëŠ” 

